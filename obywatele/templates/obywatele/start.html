{% extends 'obywatele/menu.html' %}
{% load static %}
{% load i18n %}

{% block citizens %}
<link rel="stylesheet" href="{% static 'obywatele/css/citizens_list.css' %}">

  
<table class="table table-hover">
	<thead>
		<tr>
			<th scope="col">
				<a href="?sort={{ sort_meta.username.next_param }}">
					{% trans 'Nick' %}
					{% if sort_meta.username.is_current %}
						<span aria-hidden="true">
							{% if sort_meta.username.direction == 'asc' %}&uarr;{% else %}&darr;{% endif %}
						</span>
					{% endif %}
				</a>
			</th>
			<th scope="col">
				<a href="?sort={{ sort_meta.email.next_param }}">
					{% trans 'Email' %}
					{% if sort_meta.email.is_current %}
						<span aria-hidden="true">
							{% if sort_meta.email.direction == 'asc' %}&uarr;{% else %}&darr;{% endif %}
						</span>
					{% endif %}
				</a>
			</th>
			<th scope="col">
				<a href="?sort={{ sort_meta.phone.next_param }}">
					{% trans 'Phone number' %}
					{% if sort_meta.phone.is_current %}
						<span aria-hidden="true">
							{% if sort_meta.phone.direction == 'asc' %}&uarr;{% else %}&darr;{% endif %}
						</span>
					{% endif %}
				</a>
			</th>
			<th scope="col">
				<a href="?sort={{ sort_meta.city.next_param }}">
					{% trans 'City' %}
					{% if sort_meta.city.is_current %}
						<span aria-hidden="true">
							{% if sort_meta.city.direction == 'asc' %}&uarr;{% else %}&darr;{% endif %}
						</span>
					{% endif %}
				</a>
			</th>
			<th scope="col">
				<a href="?sort={{ sort_meta.first_name.next_param }}">
					{% trans 'First name' %}
					{% if sort_meta.first_name.is_current %}
						<span aria-hidden="true">
							{% if sort_meta.first_name.direction == 'asc' %}&uarr;{% else %}&darr;{% endif %}
						</span>
					{% endif %}
				</a>
			</th>
			<th scope="col">
				<a href="?sort={{ sort_meta.last_name.next_param }}">
					{% trans 'Last name' %}
					{% if sort_meta.last_name.is_current %}
						<span aria-hidden="true">
							{% if sort_meta.last_name.direction == 'asc' %}&uarr;{% else %}&darr;{% endif %}
						</span>
					{% endif %}
				</a>
			</th>
			<th scope="col">
				<a href="?sort={{ sort_meta.last_login.next_param }}">
					{% trans 'Last login' %}
					{% if sort_meta.last_login.is_current %}
						<span aria-hidden="true">
							{% if sort_meta.last_login.direction == 'asc' %}&uarr;{% else %}&darr;{% endif %}
						</span>
					{% endif %}
				</a>
			</th>
			{% comment %} Trzeba by dodać citizens żeby wyświetlić datę przyjęcia. date_joined to data zaproponowania kandydata. {% endcomment %}
			{% comment %} <th scope="col">{% trans 'Joined at' %}</th> {% endcomment %}
	  	</tr>
	</thead>
	<tbody>
		{% for i in uid %}
			<tr class="user-row" data-user-id="{{ i.pk }}">
				<td>{{ i.username }}</td>
				<td class="email-cell">
					{{ i.email }}
					<button class="btn btn-sm btn-light copy-btn" data-email="{{ i.email }}" title="{% trans 'Copy email' %}">
						<i class="fas fa-copy"></i>
					</button>
				</td>
				<td>{{ i.uzytkownik.phone|default:"—" }}</td>
				<td>{{ i.uzytkownik.city|default:"—" }}</td>
				<td>{{ i.first_name }}</td>
				<td>{{ i.last_name }}</td>
				<td>{{ i.last_login|date:"Y-m-d"|default:_("Never") }}</td>
				{% comment %} Trzeba by dodać citizens żeby wyświetlić datę przyjęcia. date_joined to data zaproponowania kandydata. {% endcomment %}
				{% comment %} <td><a href="{{ i.pk }}">{{ i.date_joined|date:"Y-m-d" }}</a></td> {% endcomment %}
			</tr>
		{% endfor %}
	</tbody>
</table>

<script src="{% static 'obywatele/js/citizens_list.js' %}"></script>

{% endblock citizens %}